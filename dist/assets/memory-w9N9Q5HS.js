import"./styles-nRAxtbl5.js";import{s as g}from"./partials-pDWjcBgB.js";const b="https://hp-api.onrender.com/api/characters",l=[],i=[];let s,o,n=0,d=0,u,k="matching";async function v(){for(;l.length<8;){let e=Math.ceil(Math.random()*403);l.push(e)}const t=await(await fetch(b)).json();for(let e=0;e<l.length;e++){let r=l[e];const h=t[r].name;i.push(h),i.push(h)}const a=i.sort((e,r)=>.5-Math.random());for(let e=0;e<a.length;e++)y(a[e]);f()}function f(){document.querySelectorAll(".card").forEach(t=>{t.addEventListener("click",()=>{if(t.querySelector(".front").classList.toggle("flipped"),t.querySelector(".back").classList.toggle("flipped"),n<8){if(!s){s=t;return}o=t,L(s,o),d+=1,document.getElementById("moves").textContent=`Moves: ${d}`}n==8&&q()})})}function y(c){document.querySelector("section").insertAdjacentHTML("afterbegin",`<div class="card" data-charName = "${c}">  
         <div class="front"></div>
         <div class= "back flipped">
            <h2>${c}</h2>
         </div>
      </div>`)}async function L(c,t){let a=c.dataset.charname,e=t.dataset.charname;a===e&&(n+=1,document.getElementById("matches").textContent=`Matches: ${n}`,C()),a!=e&&S(c,t)}function C(){s.removeEventListener("click",f),o.removeEventListener("click",f),m()}async function S(c,t){setTimeout(()=>{c.querySelector(".front").classList.toggle("flipped"),c.querySelector(".back").classList.toggle("flipped"),t.querySelector(".front").classList.toggle("flipped"),t.querySelector(".back").classList.toggle("flipped"),m()},1500)}function m(){s=null,o=null}function q(){u=n,g(u,d,k),setTimeout(()=>{window.location.assign("../scores/index.html")},1500)}v();
